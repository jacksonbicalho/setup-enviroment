services:
  app:
    container_name: setup-enviroment-app
    image: setup-enviroment-app
    tty: true
    volumes:
      - .:/app
      - ./config:/root/.config/setup-enviroment
    build:
      context: ./
      dockerfile: ./Dockerfile
      target: app

  tests:
    container_name: setup-enviroment-test
    image: setup-enviroment-test
    env_file:
      - .env
    tty: true
    volumes:
      - .:/app
    build:
      context: ./
      dockerfile: ./Dockerfile
      target: tests
      args:
        - DOCKER_USER_UID=1000

